!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"7wo0":function(t,o,i){"use strict";i.r(o),i.d(o,"SettingsPageModule",function(){return J});var r=i("ofXK"),a=i("3Pt+"),c=i("TEn/"),s=i("tyNb"),u=i("mrSG"),b=i("gcOT"),l=i("NldC"),f=i("fXoL"),g=i("J+wX"),h=i("EPm9"),d=i("BTjV"),v=i("tRi0"),p=i("CuFv");function m(e,n){1&e&&(f.Pb(0,"ion-button"),f.Nb(1,"ion-spinner"),f.Ob())}function O(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-toggle",13),f.Xb("ionChange",function(){return f.hc(t),f.bc(2).setBetaEnabled()})("ngModelChange",function(e){return f.hc(t),f.bc(2).current.betaEnabled=e}),f.Ob()}if(2&e){var o=f.bc(2);f.ec("ngModel",o.current.betaEnabled)}}function P(e,n){if(1&e&&(f.Pb(0,"ion-item"),f.Pb(1,"ion-label",14),f.oc(2),f.Ob(),f.Nb(3,"ion-progress-bar",15),f.Ob()),2&e){var t=f.bc(2);f.Bb(2),f.qc("",t.updateService.phase,":"),f.Bb(1),f.fc("value",t.updateService.percentDone)}}function C(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-item",16),f.Pb(1,"ion-label",6),f.oc(2,"A content update is available."),f.Ob(),f.Pb(3,"ion-button",17),f.Xb("click",function(){return f.hc(t),f.bc(2).updateService.reload()}),f.oc(4,"Apply"),f.Ob(),f.Ob()}}function w(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-toggle",13),f.Xb("ionChange",function(){return f.hc(t),f.bc(2).setBoolean("disableSleep")})("ngModelChange",function(e){return f.hc(t),f.bc(2).current.disableSleep=e}),f.Ob()}if(2&e){var o=f.bc(2);f.ec("ngModel",o.current.disableSleep)}}function k(e,n){if(1&e&&(f.Pb(0,"span"),f.Pb(1,"ion-list-header",5),f.Pb(2,"h3"),f.oc(3,"Automatic Updates"),f.Ob(),f.Ob(),f.Pb(4,"ion-item"),f.Pb(5,"ion-label",6),f.oc(6,"Receive content updates early?"),f.Ob(),f.nc(7,O,1,1,"ion-toggle",7),f.Ob(),f.nc(8,P,4,2,"ion-item",3),f.nc(9,C,5,0,"ion-item",12),f.Pb(10,"ion-list-header",5),f.Pb(11,"h3"),f.oc(12,"Disable Sleep"),f.Ob(),f.Ob(),f.Pb(13,"ion-item"),f.Pb(14,"ion-label",6),f.oc(15,"Disable sleep while games are active?"),f.Ob(),f.nc(16,w,1,1,"ion-toggle",7),f.Ob(),f.Ob()),2&e){var t=f.bc();f.Bb(7),f.ec("ngIf",t.current),f.Bb(1),f.ec("ngIf",t.updateService.updateAvailable&&!t.updateService.updateReady&&t.updateService.percentDone),f.Bb(1),f.ec("ngIf",t.updateService.updateReady),f.Bb(7),f.ec("ngIf",t.current)}}function x(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-toggle",13),f.Xb("ionChange",function(){return f.hc(t),f.bc().setBoolean("reduceMotion")})("ngModelChange",function(e){return f.hc(t),f.bc().current.reduceMotion=e}),f.Ob()}if(2&e){var o=f.bc();f.ec("ngModel",o.current.reduceMotion)}}function M(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-toggle",13),f.Xb("ionChange",function(){f.hc(t);var e=f.bc();return e.settings.setDarkMode(e.current.darkMode)})("ngModelChange",function(e){return f.hc(t),f.bc().current.darkMode=e}),f.Ob()}if(2&e){var o=f.bc();f.ec("ngModel",o.current.darkMode)}}function y(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-toggle",13),f.Xb("ionChange",function(){return f.hc(t),f.bc().setBoolean("audio")})("ngModelChange",function(e){return f.hc(t),f.bc().current.audio=e}),f.Ob()}if(2&e){var o=f.bc();f.ec("ngModel",o.current.audio)}}function S(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-range",18),f.Xb("ionChange",function(e){return f.hc(t),f.bc().setVolume(e)})("ngModelChange",function(e){return f.hc(t),f.bc().volume=e}),f.Ob()}if(2&e){var o=f.bc();f.ec("ngModel",o.volume)}}function B(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-toggle",13),f.Xb("ionChange",function(){return f.hc(t),f.bc(2).setBoolean("speech")})("ngModelChange",function(e){return f.hc(t),f.bc(2).current.speech=e}),f.Ob()}if(2&e){var o=f.bc(2);f.ec("ngModel",o.current.speech)}}function I(e,n){if(1&e&&(f.Pb(0,"ion-item"),f.Pb(1,"ion-label",6),f.oc(2,"Enable Speech?"),f.Ob(),f.nc(3,B,1,1,"ion-toggle",7),f.Ob()),2&e){var t=f.bc();f.Bb(3),f.ec("ngIf",t.current)}}function T(e,n){if(1&e&&(f.Pb(0,"ion-select-option",15),f.oc(1),f.Ob()),2&e){var t=n.$implicit;f.ec("value",t.voiceURI),f.Bb(1),f.pc(t.name)}}function R(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-select",22),f.Xb("ionChange",function(e){return f.hc(t),f.bc(2).setVoice(e)}),f.nc(1,T,2,2,"ion-select-option",23),f.Ob()}if(2&e){var o=f.bc(2);f.ec("interfaceOptions",o.voiceOptions)("value",o.current.voice),f.Bb(1),f.ec("ngForOf",o.voices)}}function E(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-item"),f.Pb(1,"ion-icon",19),f.Xb("click",function(e){return f.hc(t),f.bc().speak(e)}),f.Ob(),f.Pb(2,"ion-label",20),f.oc(3,"Voice:"),f.Ob(),f.nc(4,R,2,3,"ion-select",21),f.Ob()}if(2&e){var o=f.bc();f.Bb(4),f.ec("ngIf",o.current&&o.voice)}}function j(e,n){if(1&e&&(f.Pb(0,"ion-select-option",15),f.oc(1),f.Ob()),2&e){var t=n.$implicit;f.ec("value",t.id),f.Bb(1),f.pc(t.fullName)}}function V(e,n){if(1&e){var t=f.Qb();f.Pb(0,"ion-select",24),f.Xb("ionChange",function(e){return f.hc(t),f.bc().setString("favoriteTeam",e)})("ngModelChange",function(e){return f.hc(t),f.bc().current.favoriteTeam=e}),f.nc(1,j,2,2,"ion-select-option",25),f.Ob()}if(2&e){var o=f.bc();f.ec("interfaceOptions",o.teamOptions)("ngModel",o.current.favoriteTeam),f.Bb(1),f.ec("ngForOf",o.teams)("ngForTrackBy",o.id)}}var X,N,Q,F=b.a.Device,A=[{path:"",component:(X=function(){function t(n,o,i,r,a,c){e(this,t),this.database=n,this.deploy=o,this.platform=i,this.settings=r,this.updateService=a,this.voiceService=c,this.loading=!0,this.betaEnabled=!1,this.devicePlatform="web",this.hasSpeech=!1,this.teamOptions={header:"Choose Your Team"},this.voiceOptions={header:"Choose a Voice"},this.id=l.a.trackById,this.hasSpeech=void 0!==window.speechSynthesis}var o,i,r;return o=t,(i=[{key:"ngOnInit",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.platform.ready();case 2:return console.debug("SettingsPage.ngOnInit()"),e.prev=3,e.next=6,F.getInfo();case 6:n=e.sent,this.devicePlatform=n.platform,console.debug("SettingsPage.ngOnInit(): platform=".concat(this.devicePlatform)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("SettingsPage.ngOnInit(): failed to get device info:",e.t0);case 13:if("web"===this.devicePlatform){e.next=24;break}return e.prev=14,e.next=17,this.deploy.getConfiguration();case 17:t=e.sent,this.betaEnabled="beta"===t.channel.toLowerCase(),console.debug("SettingsPage.ngOnInit(): betaEnabled=".concat(this.betaEnabled)),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),console.error("SettingsPage.ngOnInit(): failed to get deploy configuration:",e.t1);case 24:return e.next=26,this.settings.getAll();case 26:return this.current=e.sent,this.volume=Math.round(1e3*this.current.volume),e.next=30,this.database.teams();case 30:return this.teams=e.sent.sort(function(e,n){return e.fullName<n.fullName?-1:e.fullName>n.fullName?1:0}),this.voices=this.voiceService.voices(),e.next=34,this.voiceService.voice(this.current.voice);case 34:this.voice=e.sent,this.loading=!1,console.debug("SettingsPage.onInit(): current settings=",this.current);case 37:case"end":return e.stop()}},e,this,[[3,10],[14,21]])}))}},{key:"setBetaEnabled",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.settings.setBetaEnabled(this.current.betaEnabled);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}},{key:"getTeamName",value:function(e){var n=this.teams.find(function(n){return n.id===e});return n?n.fullName:""}},{key:"setBoolean",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.settings.setBoolean(e,this.current[e]);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n,this)}))}},{key:"setString",value:function(e,n){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.debug("setString: key=",e),console.debug("setString: ev=",n),t.next=4,this.settings.setString(e,this.current[e]);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))}},{key:"setVolume",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.settings.setNumber("volume",e.detail.value/1e3);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n,this)}))}},{key:"setVoice",value:function(e){var n,t;return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.voiceService.voice(null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.value);case 2:if(!o.sent){o.next=8;break}return o.next=5,this.settings.setVoice(e.detail.value);case 5:this.speak(),o.next=9;break;case 8:console.error("Unable to locate voice: ".concat(null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.value));case 9:case"end":return o.stop()}},o,this)}))}},{key:"speak",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(null==e||e.preventDefault(),null==e||e.stopPropagation(),this.voiceService.say("The commissioner is doing a great job!",{force:!0})));case 1:case"end":return n.stop()}},n,this)}))}},{key:"setFavoriteTeam",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.teams.find(function(n){return n.id===e.value}),this.settings.setFavoriteTeam(null==t?void 0:t.id);case 2:case"end":return n.stop()}},n,this)}))}}])&&n(o.prototype,i),r&&n(o,r),t}(),X.\u0275fac=function(e){return new(e||X)(f.Mb(g.a),f.Mb(h.a),f.Mb(c.U),f.Mb(d.a),f.Mb(v.a),f.Mb(p.a))},X.\u0275cmp=f.Gb({type:X,selectors:[["app-settings"]],decls:44,vars:10,consts:[[3,"translucent"],["color","primary"],["slot","secondary"],[4,"ngIf"],["lines","none",1,"ion-text-wrap"],["lines","full"],[1,"ion-text-wrap"],["slot","end",3,"ngModel","ionChange","ngModelChange",4,"ngIf"],["aria-label","Volume","min","0","max","1000","debounce","200","slot","end",3,"ngModel","ionChange","ngModelChange",4,"ngIf"],["id","bl-team-selector"],["for","choose-your-team"],["id","choose-your-team","aria-label","Choose Your Team","class","ion-text-wrap","interface","action-sheet","okText","Choose","cancelText","Cancel",3,"interfaceOptions","ngModel","ionChange","ngModelChange",4,"ngIf"],["color","danger",4,"ngIf"],["slot","end",3,"ngModel","ionChange","ngModelChange"],["slot","start"],[3,"value"],["color","danger"],["slot","end","color","light",3,"click"],["aria-label","Volume","min","0","max","1000","debounce","200","slot","end",3,"ngModel","ionChange","ngModelChange"],["name","volume-high-outline","slot","start",1,"ion-no-margin",2,"margin-right","0.5em",3,"click"],["for","select-voice",1,"ion-text-wrap"],["id","select-voice","aria-label","Select a Voice","class","ion-text-wrap","interface","action-sheet","okText","Choose","cancelText","Cancel",3,"interfaceOptions","value","ionChange",4,"ngIf"],["id","select-voice","aria-label","Select a Voice","interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","value","ionChange"],[3,"value",4,"ngFor","ngForOf"],["id","choose-your-team","aria-label","Choose Your Team","interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,n){1&e&&(f.Pb(0,"ion-header",0),f.Pb(1,"ion-toolbar",1),f.Pb(2,"ion-title"),f.oc(3,"Slettings"),f.Ob(),f.Pb(4,"ion-buttons",2),f.nc(5,m,2,0,"ion-button",3),f.Ob(),f.Ob(),f.Ob(),f.Pb(6,"ion-content"),f.Pb(7,"ion-list",4),f.nc(8,k,17,4,"span",3),f.Pb(9,"ion-list-header",5),f.Pb(10,"h3"),f.oc(11,"Interface"),f.Ob(),f.Ob(),f.Pb(12,"ion-item"),f.Pb(13,"ion-label",6),f.oc(14,"Reduce motion in effects?"),f.Ob(),f.nc(15,x,1,1,"ion-toggle",7),f.Ob(),f.Pb(16,"ion-item"),f.Pb(17,"ion-label",6),f.oc(18,"Always use dark mode?"),f.Ob(),f.nc(19,M,1,1,"ion-toggle",7),f.Ob(),f.Pb(20,"ion-list-header",5),f.Pb(21,"h3"),f.oc(22,"Audio"),f.Ob(),f.Ob(),f.Pb(23,"ion-item"),f.Pb(24,"ion-label",6),f.oc(25,"Enable Sound Effects?"),f.Ob(),f.nc(26,y,1,1,"ion-toggle",7),f.Ob(),f.Pb(27,"ion-item"),f.Pb(28,"ion-label",6),f.oc(29,"Volume:"),f.Ob(),f.nc(30,S,1,1,"ion-range",8),f.Ob(),f.nc(31,I,4,1,"ion-item",3),f.nc(32,E,5,1,"ion-item",3),f.Pb(33,"ion-list-header",5),f.Pb(34,"h3"),f.oc(35,"Teams"),f.Ob(),f.Ob(),f.Pb(36,"ion-item",9),f.Pb(37,"ion-label",6),f.Pb(38,"ion-label",10),f.Pb(39,"h4"),f.oc(40,"Choose Your Team:"),f.Ob(),f.Ob(),f.Pb(41,"ion-note"),f.oc(42,"Your team is always first in the live feed."),f.Ob(),f.Ob(),f.nc(43,V,2,4,"ion-select",11),f.Ob(),f.Ob(),f.Ob()),2&e&&(f.ec("translucent",!0),f.Bb(5),f.ec("ngIf",n.loading),f.Bb(3),f.ec("ngIf","web"!==n.devicePlatform),f.Bb(7),f.ec("ngIf",n.current),f.Bb(4),f.ec("ngIf",n.current),f.Bb(7),f.ec("ngIf",n.current),f.Bb(4),f.ec("ngIf",n.current),f.Bb(1),f.ec("ngIf",n.hasSpeech),f.Bb(1),f.ec("ngIf",n.hasSpeech),f.Bb(11),f.ec("ngIf",n.current&&n.teams))},directives:[c.o,c.P,c.N,c.e,r.i,c.k,c.u,c.v,c.q,c.t,c.w,c.d,c.I,c.O,c.a,a.d,a.e,c.x,c.y,c.V,c.p,c.G,r.h,c.H],styles:[""]}),X)}],D=((Q=function n(){e(this,n)}).\u0275mod=f.Kb({type:Q}),Q.\u0275inj=f.Jb({factory:function(e){return new(e||Q)},imports:[[s.j.forChild(A)],s.j]}),Q),J=((N=function n(){e(this,n)}).\u0275mod=f.Kb({type:N}),N.\u0275inj=f.Jb({factory:function(e){return new(e||N)},imports:[[r.b,a.a,c.Q,D]]}),N)}}])}();
//# sourceMappingURL=settings-settings-module-es5.890655dab516f6f7d3d3.js.map